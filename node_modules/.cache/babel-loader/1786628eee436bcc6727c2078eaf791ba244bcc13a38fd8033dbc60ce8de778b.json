{"ast":null,"code":"import { createApi, fetchBaseQuery } from \"@reduxjs/toolkit/query/react\";\nimport { createSlice } from \"@reduxjs/toolkit\";\n\n// 创建用户相关数据api对象\nconst userApi = createApi({\n  reducerPath: 'userApis',\n  baseQuery: fetchBaseQuery({\n    baseUrl: 'http://localhost:1337/api/'\n    // prepareHeaders: ,\n  }),\n  endpoints(build) {\n    return {\n      // 注册\n      registerUser: build.mutation({\n        query(user) {\n          return {\n            url: 'clients',\n            method: 'POST',\n            body: {\n              data: user.attributes\n            }\n          };\n        }\n      }),\n      // 查询用户\n      findUser: build.query({\n        query() {\n          return 'clients';\n        },\n        transformResponse(baseQueryReturnValue, meta, arg) {\n          // console.log(baseQueryReturnValue)\n          return baseQueryReturnValue;\n        }\n      }),\n      // \t保存问卷\n      saveSurvey: build.mutation({\n        query(survey) {}\n      })\n    };\n  }\n});\n\n// 暴露钩子函数\nexport const {\n  useRegisterUserMutation,\n  useLoginUserQuery,\n  useFindUserQuery\n} = userApi;\nexport default userApi;","map":{"version":3,"names":["createApi","fetchBaseQuery","createSlice","userApi","reducerPath","baseQuery","baseUrl","endpoints","build","registerUser","mutation","query","user","url","method","body","data","attributes","findUser","transformResponse","baseQueryReturnValue","meta","arg","saveSurvey","survey","useRegisterUserMutation","useLoginUserQuery","useFindUserQuery"],"sources":["E:/Desktop/桌面/工作/编程/前端/projext/project/src/services/apis.js"],"sourcesContent":["import {createApi, fetchBaseQuery} from \"@reduxjs/toolkit/query/react\";\r\nimport {createSlice} from \"@reduxjs/toolkit\";\r\n\r\n// 创建用户相关数据api对象\r\nconst userApi = createApi({\r\n\treducerPath: 'userApis',\r\n\tbaseQuery: fetchBaseQuery({\r\n\t\tbaseUrl: 'http://localhost:1337/api/',\r\n\t\t// prepareHeaders: ,\r\n\t}),\r\n\tendpoints(build) {\r\n\t\treturn {\r\n\t\t\t// 注册\r\n\t\t\tregisterUser: build.mutation({\r\n\t\t\t\tquery(user) {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\turl: 'clients',\r\n\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\tbody: {data: user.attributes}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}),\r\n\t\t\t// 查询用户\r\n\t\t\tfindUser: build.query({\r\n\t\t\t\tquery() {\r\n\t\t\t\t\treturn 'clients'\r\n\t\t\t\t},\r\n\t\t\t\ttransformResponse(baseQueryReturnValue, meta, arg) {\r\n\t\t\t\t\t// console.log(baseQueryReturnValue)\r\n\t\t\t\t\treturn baseQueryReturnValue;\r\n\t\t\t\t},\r\n\t\t\t}),\r\n\t\t\t// \t保存问卷\r\n\t\t\tsaveSurvey: build.mutation({\r\n\t\t\t\tquery(survey) {\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n});\r\n\r\n\r\n// 暴露钩子函数\r\nexport const {\r\n\tuseRegisterUserMutation,\r\n\tuseLoginUserQuery,\r\n\tuseFindUserQuery\r\n} = userApi;\r\nexport default userApi;"],"mappings":"AAAA,SAAQA,SAAS,EAAEC,cAAc,QAAO,8BAA8B;AACtE,SAAQC,WAAW,QAAO,kBAAkB;;AAE5C;AACA,MAAMC,OAAO,GAAGH,SAAS,CAAC;EACzBI,WAAW,EAAE,UAAU;EACvBC,SAAS,EAAEJ,cAAc,CAAC;IACzBK,OAAO,EAAE;IACT;EACD,CAAC,CAAC;EACFC,SAASA,CAACC,KAAK,EAAE;IAChB,OAAO;MACN;MACAC,YAAY,EAAED,KAAK,CAACE,QAAQ,CAAC;QAC5BC,KAAKA,CAACC,IAAI,EAAE;UACX,OAAO;YACNC,GAAG,EAAE,SAAS;YACdC,MAAM,EAAE,MAAM;YACdC,IAAI,EAAE;cAACC,IAAI,EAAEJ,IAAI,CAACK;YAAU;UAC7B,CAAC;QACF;MACD,CAAC,CAAC;MACF;MACAC,QAAQ,EAAEV,KAAK,CAACG,KAAK,CAAC;QACrBA,KAAKA,CAAA,EAAG;UACP,OAAO,SAAS;QACjB,CAAC;QACDQ,iBAAiBA,CAACC,oBAAoB,EAAEC,IAAI,EAAEC,GAAG,EAAE;UAClD;UACA,OAAOF,oBAAoB;QAC5B;MACD,CAAC,CAAC;MACF;MACAG,UAAU,EAAEf,KAAK,CAACE,QAAQ,CAAC;QAC1BC,KAAKA,CAACa,MAAM,EAAE,CAEd;MACD,CAAC;IACF,CAAC;EACF;AACD,CAAC,CAAC;;AAGF;AACA,OAAO,MAAM;EACZC,uBAAuB;EACvBC,iBAAiB;EACjBC;AACD,CAAC,GAAGxB,OAAO;AACX,eAAeA,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}