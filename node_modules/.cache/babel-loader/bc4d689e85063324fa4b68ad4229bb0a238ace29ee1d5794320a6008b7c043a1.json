{"ast":null,"code":"/*查询用户绑定的survey*/\nexport async function getUserSurveys() {\n  const clientDocumentId = localStorage.getItem('token');\n  const url = `http://localhost:1337/api/clients/${clientDocumentId}`;\n  // 获取用户数据\n  const data = await async function () {\n    try {\n      const resp = await fetch(url);\n      if (!resp.ok) {\n        throw new Error(`获取数据失败: ${resp.status}`);\n      }\n      return await resp.json();\n    } catch (err) {\n      console.error(err);\n      return null;\n    }\n  }();\n  console.log(data);\n}","map":{"version":3,"names":["getUserSurveys","clientDocumentId","localStorage","getItem","url","data","resp","fetch","ok","Error","status","json","err","console","error","log"],"sources":["E:/Desktop/桌面/工作/编程/前端/projext/project/src/utils/getUserSurveys.js"],"sourcesContent":["/*查询用户绑定的survey*/\r\nexport async function getUserSurveys(){\r\n\tconst clientDocumentId = localStorage.getItem('token');\r\n\tconst url = `http://localhost:1337/api/clients/${clientDocumentId}`;\r\n\t// 获取用户数据\r\n\tconst data = await (async function () {\r\n\t\ttry {\r\n\t\t\tconst resp = await fetch(url);\r\n\t\t\tif (!resp.ok) {\r\n\t\t\t\tthrow new Error(`获取数据失败: ${resp.status}`);\r\n\t\t\t}\r\n\t\t\treturn await resp.json();\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error(err);\r\n\t\t\treturn null;\r\n\t\t}\r\n\t})();\r\n\tconsole.log(data);\r\n}"],"mappings":"AAAA;AACA,OAAO,eAAeA,cAAcA,CAAA,EAAE;EACrC,MAAMC,gBAAgB,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EACtD,MAAMC,GAAG,GAAG,qCAAqCH,gBAAgB,EAAE;EACnE;EACA,MAAMI,IAAI,GAAG,MAAO,kBAAkB;IACrC,IAAI;MACH,MAAMC,IAAI,GAAG,MAAMC,KAAK,CAACH,GAAG,CAAC;MAC7B,IAAI,CAACE,IAAI,CAACE,EAAE,EAAE;QACb,MAAM,IAAIC,KAAK,CAAC,WAAWH,IAAI,CAACI,MAAM,EAAE,CAAC;MAC1C;MACA,OAAO,MAAMJ,IAAI,CAACK,IAAI,CAAC,CAAC;IACzB,CAAC,CAAC,OAAOC,GAAG,EAAE;MACbC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC;MAClB,OAAO,IAAI;IACZ;EACD,CAAC,CAAE,CAAC;EACJC,OAAO,CAACE,GAAG,CAACV,IAAI,CAAC;AAClB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}