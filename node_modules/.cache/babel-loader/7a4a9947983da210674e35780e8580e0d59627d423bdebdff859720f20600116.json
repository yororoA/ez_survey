{"ast":null,"code":"import { getUserData } from \"./getUserData\";\nimport { getSurveyQues } from \"./getSurveyQues\";\n\n/*查询用户绑定的survey\r\n* @accept`getDrafts:` Bool, 是否获取草稿, false为获取已发布*/\nexport async function getUserSurveys(getDrafts) {\n  // 获取用户数据\n  const data = await getUserData();\n  console.log(data);\n  // 获取草稿\n  if (getDrafts) {\n    const surveys = data.data.surveys.filter(survey => survey.published === false);\n    const surveysDetails = [];\n    for (const survey of surveys) {\n      const detail = await getSurveyQues(survey.id, true);\n      surveysDetails.push(detail);\n    }\n    return surveysDetails;\n  }\n  // 获取已发布\n  const surveys = data.data.surveys.filter(survey => survey.published === true);\n  const surveysDetails = [];\n  for (const survey of surveys) {\n    const detail = await getSurveyQues(survey.id, false);\n    surveysDetails.push(detail);\n  }\n  return surveysDetails;\n}","map":{"version":3,"names":["getUserData","getSurveyQues","getUserSurveys","getDrafts","data","console","log","surveys","filter","survey","published","surveysDetails","detail","id","push"],"sources":["E:/Desktop/桌面/工作/编程/前端/projext/project/src/utils/getUserSurveys.js"],"sourcesContent":["import {getUserData} from \"./getUserData\";\r\nimport {getSurveyQues} from \"./getSurveyQues\";\r\n\r\n/*查询用户绑定的survey\r\n* @accept`getDrafts:` Bool, 是否获取草稿, false为获取已发布*/\r\nexport async function getUserSurveys(getDrafts) {\r\n\t// 获取用户数据\r\n\tconst data = await getUserData();\r\n\tconsole.log(data);\r\n\t// 获取草稿\r\n\tif (getDrafts) {\r\n\t\tconst surveys = data.data.surveys.filter(survey => survey.published === false);\r\n\t\tconst surveysDetails = [];\r\n\t\tfor (const survey of surveys) {\r\n\t\t\tconst detail = await getSurveyQues(survey.id, true);\r\n\t\t\tsurveysDetails.push(detail);\r\n\t\t}\r\n\t\treturn surveysDetails;\r\n\t}\r\n\t// 获取已发布\r\n\tconst surveys = data.data.surveys.filter(survey => survey.published === true);\r\n\tconst surveysDetails = [];\r\n\tfor (const survey of surveys) {\r\n\t\tconst detail = await getSurveyQues(survey.id, false);\r\n\t\tsurveysDetails.push(detail);\r\n\t}\r\n\treturn surveysDetails;\r\n}\r\n"],"mappings":"AAAA,SAAQA,WAAW,QAAO,eAAe;AACzC,SAAQC,aAAa,QAAO,iBAAiB;;AAE7C;AACA;AACA,OAAO,eAAeC,cAAcA,CAACC,SAAS,EAAE;EAC/C;EACA,MAAMC,IAAI,GAAG,MAAMJ,WAAW,CAAC,CAAC;EAChCK,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC;EACjB;EACA,IAAID,SAAS,EAAE;IACd,MAAMI,OAAO,GAAGH,IAAI,CAACA,IAAI,CAACG,OAAO,CAACC,MAAM,CAACC,MAAM,IAAIA,MAAM,CAACC,SAAS,KAAK,KAAK,CAAC;IAC9E,MAAMC,cAAc,GAAG,EAAE;IACzB,KAAK,MAAMF,MAAM,IAAIF,OAAO,EAAE;MAC7B,MAAMK,MAAM,GAAG,MAAMX,aAAa,CAACQ,MAAM,CAACI,EAAE,EAAE,IAAI,CAAC;MACnDF,cAAc,CAACG,IAAI,CAACF,MAAM,CAAC;IAC5B;IACA,OAAOD,cAAc;EACtB;EACA;EACA,MAAMJ,OAAO,GAAGH,IAAI,CAACA,IAAI,CAACG,OAAO,CAACC,MAAM,CAACC,MAAM,IAAIA,MAAM,CAACC,SAAS,KAAK,IAAI,CAAC;EAC7E,MAAMC,cAAc,GAAG,EAAE;EACzB,KAAK,MAAMF,MAAM,IAAIF,OAAO,EAAE;IAC7B,MAAMK,MAAM,GAAG,MAAMX,aAAa,CAACQ,MAAM,CAACI,EAAE,EAAE,KAAK,CAAC;IACpDF,cAAc,CAACG,IAAI,CAACF,MAAM,CAAC;EAC5B;EACA,OAAOD,cAAc;AACtB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}