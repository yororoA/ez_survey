{"ast":null,"code":"var _jsxFileName = \"E:\\\\Desktop\\\\\\u684C\\u9762\\\\\\u5DE5\\u4F5C\\\\\\u7F16\\u7A0B\\\\\\u524D\\u7AEF\\\\projext\\\\project\\\\src\\\\pages\\\\main_nav_pages\\\\nav_pages\\\\involved\\\\checkInvolvedDetails.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useParams } from \"react-router-dom\";\nimport { getAnswerDetailsByAnswerId } from \"../../../../utils/getAnswerDetailsByAnswerId\";\nimport { getSurveyQues } from \"../../../../utils/getSurveyQues\";\nimport { getQueDetails } from \"../../../../utils/getQueDetails\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CheckInvolvedDetails = () => {\n  _s();\n  const {\n    answerId\n  } = useParams();\n  const [answerDetails, setAnswerDetails] = useState(null);\n  const [surveyBoundedQuesBounded, setSurveyQuesBounded] = useState(null);\n  useEffect(() => {\n    // 获取填写的answer内容\n    getAnswerDetailsByAnswerId(answerId).then(r => {\n      // 将answers按index排序, 便于问题读取答案\n      const answers = r.answers.sort((a, b) => a.index - b.index);\n      setAnswerDetails(answers);\n\n      // 获取与answer相关的问卷绑定的问题id\n      getSurveyQues(r.surveyId, false).then(rb => {\n        const questions = rb.questions;\n\n        // 获取问题内容\n        async function fetchQueDetails() {\n          const promises = questions.map(question => getQueDetails(question));\n          const results = await Promise.all(promises);\n          console.log(results);\n        }\n      });\n    });\n  }, [answerId]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: '查看详情页'\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 3\n  }, this);\n};\n_s(CheckInvolvedDetails, \"e/i0SVibFMeHQSkwnzg6bTpyJ8s=\", false, function () {\n  return [useParams];\n});\n_c = CheckInvolvedDetails;\nexport default CheckInvolvedDetails;\nvar _c;\n$RefreshReg$(_c, \"CheckInvolvedDetails\");","map":{"version":3,"names":["React","useEffect","useState","useParams","getAnswerDetailsByAnswerId","getSurveyQues","getQueDetails","jsxDEV","_jsxDEV","CheckInvolvedDetails","_s","answerId","answerDetails","setAnswerDetails","surveyBoundedQuesBounded","setSurveyQuesBounded","then","r","answers","sort","a","b","index","surveyId","rb","questions","fetchQueDetails","promises","map","question","results","Promise","all","console","log","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["E:/Desktop/桌面/工作/编程/前端/projext/project/src/pages/main_nav_pages/nav_pages/involved/checkInvolvedDetails.js"],"sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport {useParams} from \"react-router-dom\";\r\nimport {getAnswerDetailsByAnswerId} from \"../../../../utils/getAnswerDetailsByAnswerId\";\r\nimport {getSurveyQues} from \"../../../../utils/getSurveyQues\";\r\nimport {getQueDetails} from \"../../../../utils/getQueDetails\";\r\n\r\nconst CheckInvolvedDetails = () => {\r\n\tconst {answerId} = useParams();\r\n\tconst [answerDetails, setAnswerDetails] = useState(null);\r\n\tconst [surveyBoundedQuesBounded, setSurveyQuesBounded] = useState(null);\r\n\r\n\tuseEffect(() => {\r\n\t\t// 获取填写的answer内容\r\n\t\tgetAnswerDetailsByAnswerId(answerId).then(r => {\r\n\t\t\t// 将answers按index排序, 便于问题读取答案\r\n\t\t\tconst answers = r.answers.sort((a, b) => a.index - b.index);\r\n\t\t\tsetAnswerDetails(answers);\r\n\r\n\t\t\t// 获取与answer相关的问卷绑定的问题id\r\n\t\t\tgetSurveyQues(r.surveyId, false).then(rb => {\r\n\t\t\t\tconst questions = rb.questions;\r\n\r\n\t\t\t\t// 获取问题内容\r\n\t\t\t\tasync function fetchQueDetails(){\r\n\t\t\t\t\tconst promises = questions.map((question) => getQueDetails(question));\r\n\t\t\t\t\tconst results = await Promise.all(promises);\r\n\t\t\t\t\tconsole.log(results);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t});\r\n\t}, [answerId]);\r\n\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{'查看详情页'}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default CheckInvolvedDetails;"],"mappings":";;AAAA,OAAOA,KAAK,IAAGC,SAAS,EAAEC,QAAQ,QAAO,OAAO;AAChD,SAAQC,SAAS,QAAO,kBAAkB;AAC1C,SAAQC,0BAA0B,QAAO,8CAA8C;AACvF,SAAQC,aAAa,QAAO,iCAAiC;AAC7D,SAAQC,aAAa,QAAO,iCAAiC;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE9D,MAAMC,oBAAoB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAClC,MAAM;IAACC;EAAQ,CAAC,GAAGR,SAAS,CAAC,CAAC;EAC9B,MAAM,CAACS,aAAa,EAAEC,gBAAgB,CAAC,GAAGX,QAAQ,CAAC,IAAI,CAAC;EACxD,MAAM,CAACY,wBAAwB,EAAEC,oBAAoB,CAAC,GAAGb,QAAQ,CAAC,IAAI,CAAC;EAEvED,SAAS,CAAC,MAAM;IACf;IACAG,0BAA0B,CAACO,QAAQ,CAAC,CAACK,IAAI,CAACC,CAAC,IAAI;MAC9C;MACA,MAAMC,OAAO,GAAGD,CAAC,CAACC,OAAO,CAACC,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,CAACE,KAAK,GAAGD,CAAC,CAACC,KAAK,CAAC;MAC3DT,gBAAgB,CAACK,OAAO,CAAC;;MAEzB;MACAb,aAAa,CAACY,CAAC,CAACM,QAAQ,EAAE,KAAK,CAAC,CAACP,IAAI,CAACQ,EAAE,IAAI;QAC3C,MAAMC,SAAS,GAAGD,EAAE,CAACC,SAAS;;QAE9B;QACA,eAAeC,eAAeA,CAAA,EAAE;UAC/B,MAAMC,QAAQ,GAAGF,SAAS,CAACG,GAAG,CAAEC,QAAQ,IAAKvB,aAAa,CAACuB,QAAQ,CAAC,CAAC;UACrE,MAAMC,OAAO,GAAG,MAAMC,OAAO,CAACC,GAAG,CAACL,QAAQ,CAAC;UAC3CM,OAAO,CAACC,GAAG,CAACJ,OAAO,CAAC;QACrB;MACD,CAAC,CAAC;IAEH,CAAC,CAAC;EACH,CAAC,EAAE,CAACnB,QAAQ,CAAC,CAAC;EAGd,oBACCH,OAAA;IAAA2B,QAAA,EACE;EAAO;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACJ,CAAC;AAER,CAAC;AAAC7B,EAAA,CAjCID,oBAAoB;EAAA,QACNN,SAAS;AAAA;AAAAqC,EAAA,GADvB/B,oBAAoB;AAmC1B,eAAeA,oBAAoB;AAAC,IAAA+B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}