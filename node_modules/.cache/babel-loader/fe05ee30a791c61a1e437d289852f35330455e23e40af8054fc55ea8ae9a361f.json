{"ast":null,"code":"var _jsxFileName = \"E:\\\\Desktop\\\\\\u684C\\u9762\\\\\\u5DE5\\u4F5C\\\\\\u7F16\\u7A0B\\\\\\u524D\\u7AEF\\\\projext\\\\project\\\\src\\\\context\\\\ThemeContext.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useEffect, useMemo, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ThemeContext = /*#__PURE__*/createContext({\n  theme: 'light',\n  toggleTheme: () => {}\n});\nconst THEME_KEY = 'app-theme';\nconst getPreferredTheme = () => {\n  try {\n    const saved = localStorage.getItem(THEME_KEY);\n    if (saved === 'light' || saved === 'dark') return saved;\n  } catch {}\n  if (typeof window !== 'undefined' && window.matchMedia) {\n    return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';\n  }\n  return 'light';\n};\nexport const ThemeProvider = ({\n  children\n}) => {\n  _s();\n  const [theme, setTheme] = useState(getPreferredTheme());\n\n  // Apply theme to <html> element\n  useEffect(() => {\n    const root = document.documentElement;\n    root.classList.remove('theme-light', 'theme-dark');\n    root.classList.add(`theme-${theme}`);\n    root.style.colorScheme = theme; // help native form controls\n    try {\n      localStorage.setItem(THEME_KEY, theme);\n    } catch {}\n\n    // smooth transition for a moment\n    root.classList.add('theme-transition');\n    const t = setTimeout(() => root.classList.remove('theme-transition'), 200);\n    return () => clearTimeout(t);\n  }, [theme]);\n  const value = useMemo(() => ({\n    theme,\n    toggleTheme: () => setTheme(t => t === 'light' ? 'dark' : 'light')\n  }), [theme]);\n  return /*#__PURE__*/_jsxDEV(ThemeContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n};\n_s(ThemeProvider, \"bnac5MhblDpNSR4NwEsGcCZNo+0=\");\n_c = ThemeProvider;\nexport const useTheme = () => {\n  _s2();\n  return useContext(ThemeContext);\n};\n_s2(useTheme, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport default ThemeContext;\nvar _c;\n$RefreshReg$(_c, \"ThemeProvider\");","map":{"version":3,"names":["React","createContext","useContext","useEffect","useMemo","useState","jsxDEV","_jsxDEV","ThemeContext","theme","toggleTheme","THEME_KEY","getPreferredTheme","saved","localStorage","getItem","window","matchMedia","matches","ThemeProvider","children","_s","setTheme","root","document","documentElement","classList","remove","add","style","colorScheme","setItem","t","setTimeout","clearTimeout","value","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","useTheme","_s2","$RefreshReg$"],"sources":["E:/Desktop/桌面/工作/编程/前端/projext/project/src/context/ThemeContext.jsx"],"sourcesContent":["import React, {createContext, useContext, useEffect, useMemo, useState} from 'react';\r\n\r\nconst ThemeContext = createContext({ theme: 'light', toggleTheme: () => {} });\r\n\r\nconst THEME_KEY = 'app-theme';\r\n\r\nconst getPreferredTheme = () => {\r\n  try {\r\n    const saved = localStorage.getItem(THEME_KEY);\r\n    if (saved === 'light' || saved === 'dark') return saved;\r\n  } catch {}\r\n  if (typeof window !== 'undefined' && window.matchMedia) {\r\n    return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';\r\n  }\r\n  return 'light';\r\n};\r\n\r\nexport const ThemeProvider = ({ children }) => {\r\n  const [theme, setTheme] = useState(getPreferredTheme());\r\n\r\n  // Apply theme to <html> element\r\n  useEffect(() => {\r\n    const root = document.documentElement;\r\n    root.classList.remove('theme-light', 'theme-dark');\r\n    root.classList.add(`theme-${theme}`);\r\n    root.style.colorScheme = theme; // help native form controls\r\n    try { localStorage.setItem(THEME_KEY, theme); } catch {}\r\n\r\n    // smooth transition for a moment\r\n    root.classList.add('theme-transition');\r\n    const t = setTimeout(() => root.classList.remove('theme-transition'), 200);\r\n    return () => clearTimeout(t);\r\n  }, [theme]);\r\n\r\n  const value = useMemo(() => ({\r\n    theme,\r\n    toggleTheme: () => setTheme((t) => (t === 'light' ? 'dark' : 'light')),\r\n  }), [theme]);\r\n\r\n  return (\r\n    <ThemeContext.Provider value={value}>\r\n      {children}\r\n    </ThemeContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useTheme = () => useContext(ThemeContext);\r\n\r\nexport default ThemeContext;\r\n"],"mappings":";;;AAAA,OAAOA,KAAK,IAAGC,aAAa,EAAEC,UAAU,EAAEC,SAAS,EAAEC,OAAO,EAAEC,QAAQ,QAAO,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAErF,MAAMC,YAAY,gBAAGP,aAAa,CAAC;EAAEQ,KAAK,EAAE,OAAO;EAAEC,WAAW,EAAEA,CAAA,KAAM,CAAC;AAAE,CAAC,CAAC;AAE7E,MAAMC,SAAS,GAAG,WAAW;AAE7B,MAAMC,iBAAiB,GAAGA,CAAA,KAAM;EAC9B,IAAI;IACF,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAACJ,SAAS,CAAC;IAC7C,IAAIE,KAAK,KAAK,OAAO,IAAIA,KAAK,KAAK,MAAM,EAAE,OAAOA,KAAK;EACzD,CAAC,CAAC,MAAM,CAAC;EACT,IAAI,OAAOG,MAAM,KAAK,WAAW,IAAIA,MAAM,CAACC,UAAU,EAAE;IACtD,OAAOD,MAAM,CAACC,UAAU,CAAC,8BAA8B,CAAC,CAACC,OAAO,GAAG,MAAM,GAAG,OAAO;EACrF;EACA,OAAO,OAAO;AAChB,CAAC;AAED,OAAO,MAAMC,aAAa,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EAC7C,MAAM,CAACZ,KAAK,EAAEa,QAAQ,CAAC,GAAGjB,QAAQ,CAACO,iBAAiB,CAAC,CAAC,CAAC;;EAEvD;EACAT,SAAS,CAAC,MAAM;IACd,MAAMoB,IAAI,GAAGC,QAAQ,CAACC,eAAe;IACrCF,IAAI,CAACG,SAAS,CAACC,MAAM,CAAC,aAAa,EAAE,YAAY,CAAC;IAClDJ,IAAI,CAACG,SAAS,CAACE,GAAG,CAAC,SAASnB,KAAK,EAAE,CAAC;IACpCc,IAAI,CAACM,KAAK,CAACC,WAAW,GAAGrB,KAAK,CAAC,CAAC;IAChC,IAAI;MAAEK,YAAY,CAACiB,OAAO,CAACpB,SAAS,EAAEF,KAAK,CAAC;IAAE,CAAC,CAAC,MAAM,CAAC;;IAEvD;IACAc,IAAI,CAACG,SAAS,CAACE,GAAG,CAAC,kBAAkB,CAAC;IACtC,MAAMI,CAAC,GAAGC,UAAU,CAAC,MAAMV,IAAI,CAACG,SAAS,CAACC,MAAM,CAAC,kBAAkB,CAAC,EAAE,GAAG,CAAC;IAC1E,OAAO,MAAMO,YAAY,CAACF,CAAC,CAAC;EAC9B,CAAC,EAAE,CAACvB,KAAK,CAAC,CAAC;EAEX,MAAM0B,KAAK,GAAG/B,OAAO,CAAC,OAAO;IAC3BK,KAAK;IACLC,WAAW,EAAEA,CAAA,KAAMY,QAAQ,CAAEU,CAAC,IAAMA,CAAC,KAAK,OAAO,GAAG,MAAM,GAAG,OAAQ;EACvE,CAAC,CAAC,EAAE,CAACvB,KAAK,CAAC,CAAC;EAEZ,oBACEF,OAAA,CAACC,YAAY,CAAC4B,QAAQ;IAACD,KAAK,EAAEA,KAAM;IAAAf,QAAA,EACjCA;EAAQ;IAAAiB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACY,CAAC;AAE5B,CAAC;AAACnB,EAAA,CA3BWF,aAAa;AAAAsB,EAAA,GAAbtB,aAAa;AA6B1B,OAAO,MAAMuB,QAAQ,GAAGA,CAAA;EAAAC,GAAA;EAAA,OAAMzC,UAAU,CAACM,YAAY,CAAC;AAAA;AAACmC,GAAA,CAA1CD,QAAQ;AAErB,eAAelC,YAAY;AAAC,IAAAiC,EAAA;AAAAG,YAAA,CAAAH,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}