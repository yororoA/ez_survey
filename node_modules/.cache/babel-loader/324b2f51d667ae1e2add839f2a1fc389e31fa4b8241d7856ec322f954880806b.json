{"ast":null,"code":"// 获取用户地理位置\nexport function getLocation() {\n  // 检查浏览器是否支持 geolocation api\n  if (!navigator.geolocation) {\n    return '您的浏览器不支持地理位置服务';\n  }\n\n  // 调用定位方法\n  return new Promise((resolve, reject) => {\n    navigator.geolocation.getCurrentPosition(\n    // 成功回调, 获取地理位置信息\n    position => {\n      const coords = position.coords;\n      resolve({\n        latitude: coords.latitude,\n        // 纬度\n        longitude: coords.longitude,\n        // 经度\n        accuracy: coords.accuracy // 定位精度(米)\n      });\n    },\n    // 失败回调, 处理错误\n    err => {\n      const errorMsg = {\n        1: '用户拒绝提供定位权限',\n        2: '无法获取位置信息（可能是网络或设备问题）',\n        3: '定位超时'\n      }[err.code] || `定位失败（错误码：${err.code}）`;\n      reject(errorMsg); // 传递具体错误描述\n    });\n  });\n}","map":{"version":3,"names":["getLocation","navigator","geolocation","Promise","resolve","reject","getCurrentPosition","position","coords","latitude","longitude","accuracy","err","errorMsg","code"],"sources":["E:/Desktop/桌面/工作/编程/前端/projext/project/src/utils/getLocation.js"],"sourcesContent":["// 获取用户地理位置\r\nexport function getLocation() {\r\n\t// 检查浏览器是否支持 geolocation api\r\n\tif (!navigator.geolocation) {\r\n\t\treturn '您的浏览器不支持地理位置服务';\r\n\t}\r\n\r\n\t// 调用定位方法\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tnavigator.geolocation.getCurrentPosition(\r\n\t\t\t// 成功回调, 获取地理位置信息\r\n\t\t\t(position) => {\r\n\t\t\t\tconst coords = position.coords;\r\n\t\t\t\tresolve({\r\n\t\t\t\t\tlatitude: coords.latitude, // 纬度\r\n\t\t\t\t\tlongitude: coords.longitude, // 经度\r\n\t\t\t\t\taccuracy: coords.accuracy // 定位精度(米)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 失败回调, 处理错误\r\n\t\t\t(err) => {\r\n\t\t\t\tconst errorMsg = {\r\n\t\t\t\t\t1: '用户拒绝提供定位权限',\r\n\t\t\t\t\t2: '无法获取位置信息（可能是网络或设备问题）',\r\n\t\t\t\t\t3: '定位超时'\r\n\t\t\t\t}[err.code] || `定位失败（错误码：${err.code}）`;\r\n\t\t\t\treject(errorMsg); // 传递具体错误描述\r\n\t\t\t}\r\n\t\t)\r\n\t})\r\n}"],"mappings":"AAAA;AACA,OAAO,SAASA,WAAWA,CAAA,EAAG;EAC7B;EACA,IAAI,CAACC,SAAS,CAACC,WAAW,EAAE;IAC3B,OAAO,gBAAgB;EACxB;;EAEA;EACA,OAAO,IAAIC,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;IACvCJ,SAAS,CAACC,WAAW,CAACI,kBAAkB;IACvC;IACCC,QAAQ,IAAK;MACb,MAAMC,MAAM,GAAGD,QAAQ,CAACC,MAAM;MAC9BJ,OAAO,CAAC;QACPK,QAAQ,EAAED,MAAM,CAACC,QAAQ;QAAE;QAC3BC,SAAS,EAAEF,MAAM,CAACE,SAAS;QAAE;QAC7BC,QAAQ,EAAEH,MAAM,CAACG,QAAQ,CAAC;MAC3B,CAAC,CAAC;IACH,CAAC;IACD;IACCC,GAAG,IAAK;MACR,MAAMC,QAAQ,GAAG;QAChB,CAAC,EAAE,YAAY;QACf,CAAC,EAAE,sBAAsB;QACzB,CAAC,EAAE;MACJ,CAAC,CAACD,GAAG,CAACE,IAAI,CAAC,IAAI,YAAYF,GAAG,CAACE,IAAI,GAAG;MACtCT,MAAM,CAACQ,QAAQ,CAAC,CAAC,CAAC;IACnB,CACD,CAAC;EACF,CAAC,CAAC;AACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}